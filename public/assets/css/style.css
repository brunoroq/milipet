/* Design System Variables */
:root {
  /* New palette */
  --green: #3D873F;
  --green-dark: #2E6B30;
  --accent: #EDDA8E;
  --bg: #F9F9F9;
  --text: #1E1E1E;
  --border: #E5E5E5;

  /* Backward compatibility */
  --primary: var(--green);
  --primary-light: #60ad5e;
  --primary-dark: var(--green-dark);
  --danger: #c62828;
  --danger-light: #ff5f52;
  --danger-dark: #8e0000;
  --success: var(--green);
  --warning: var(--accent);
  --text-primary: var(--text);
  --text-secondary: #666666;
  --background: var(--bg);
  --background-light: #f5f5f5;

  --border-radius: 10px;
  --transition: all 0.2s ease;
  --shadow: 0 2px 4px rgba(0,0,0,0.06);
  --container-max-width: 1200px;
  --header-height: 60px;
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;

  /* Bootstrap theme override */
  --bs-primary: var(--green);
}

/* Base */
* { box-sizing: border-box; margin: 0; font-size: 16px; scroll-behavior: smooth; }
body { font-family: 'Poppins', system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, sans-serif; line-height: 1.5; color: var(--text); background: var(--bg); }
img { max-width: 100%; height: auto; }

/* Typography */
h1, h2, h3, h4, h5, h6 { margin-bottom: var(--spacing-md); font-weight: 600; line-height: 1.2; }
h2 { font-size: 1.75rem; }
h3 { font-size: 1.5rem; }
h4 { font-size: 1.25rem; }
h5 { font-size: 1.125rem; }

/* Layout helpers */
.row { display: flex; flex-wrap: wrap; align-items: center; }
.col { flex: 1; }

/* Navbar (kept light, Bootstrap handles theme) */
.navbar { position: sticky; top: 0; z-index: 1000; min-height: 80px; box-shadow: var(--shadow); padding-top: 0.75rem; padding-bottom: 0.75rem; }
.navbar .nav-link.btn { line-height: 1.2; }

/* Header logo */
.header-logo { height: 60px; width: auto; display: block; }
@media (max-width: 768px) { .header-logo { height: 50px; } }

/* Paw pattern decoration over brand color */
.paw-pattern {
  background-color: var(--green) !important;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80' viewBox='0 0 80 80'%3E%3Cg fill='%23ffffff' fill-opacity='0.12'%3E%3Ccircle cx='20' cy='18' r='5'/%3E%3Ccircle cx='34' cy='16' r='4'/%3E%3Ccircle cx='27' cy='28' r='4.5'/%3E%3Cellipse cx='27' cy='40' rx='9' ry='7'/%3E%3C/g%3E%3C/svg%3E");
  background-size: 80px 80px;
}

/* Dropdown spacing */
.navbar .dropdown-menu { margin-top: 0.5rem; }

/* Small icon images for header buttons */
.icon-img { width: 18px; height: 18px; display: inline-block; vertical-align: -3px; }
.icon-img-dark { filter: brightness(0) saturate(100%); }

/* Header action icons */
.header-icon { line-height: 1; display:inline-flex; align-items:center; justify-content:center; gap:.35rem; }
.icon-bar .btn { padding: 8px 12px; }
.count-badge { position:absolute; top:-6px; right:-6px; background:#dc3545; color:#fff; border-radius:999px; padding:1px 6px; font-size:12px; font-weight:700; }

/* Search overlay */
.search-overlay { position:fixed; top:0; left:0; right:0; height:70px; background:#2E6B30; display:none; z-index:1100; box-shadow:0 4px 12px rgba(0,0,0,.25); animation:fadeDown .25s ease; }
.search-overlay.active { display:block; }
.search-overlay-inner { height:100%; display:flex; align-items:center; justify-content:center; }
.search-form { width:100%; max-width:760px; }
.search-form .input-wrapper { position:relative; display:flex; align-items:center; background:#fff; border-radius:40px; padding:6px 20px; box-shadow:0 2px 8px rgba(0,0,0,.15); }
.search-form i.fa-magnifying-glass { color:#2E6B30; font-size:1.1rem; margin-right:12px; }
.search-input { flex:1; border:none; outline:none; font-size:1rem; padding:10px 4px; font-family:inherit; }
.search-input::placeholder { color:#666; }
.search-overlay .btn-close { position:absolute; right:14px; top:50%; transform:translateY(-50%); }
@media (max-width:600px){ .search-form{ max-width:100%; } .search-form .input-wrapper{ padding:4px 12px; } }
@keyframes fadeDown{ from{ opacity:0; transform:translateY(-10px);} to{ opacity:1; transform:translateY(0);} }
/* Dim backdrop */
.search-dim { position:fixed; inset:0; background:rgba(0,0,0,.35); opacity:0; pointer-events:none; z-index:1090; transition:opacity .25s ease; }
.search-dim.active { opacity:1; pointer-events:auto; }

body.search-open { overflow:hidden; }

/* Grid */
.grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; margin: var(--spacing-lg) 0; justify-content: center; }

/* Cards */
.card { background:#fff; border:1px solid var(--border); border-radius:12px; padding:16px; transition: all 0.2s ease-in-out; display:flex; flex-direction:column; gap:var(--spacing-sm); box-shadow: 0 2px 8px rgba(0,0,0,0.08); color: var(--text); }
.card:hover { transform: translateY(-3px); box-shadow: 0 6px 16px rgba(0,0,0,0.15); }
.card img { width:100%; height:200px; object-fit:cover; border-radius: 8px; background:#f2f2f2; margin-bottom:12px; }
.card h3 { color: var(--text); font-weight: 600; margin-top: .5em; }
.card .muted, .card .text-muted, .card .categoria { color: #777; font-size: .9rem; }
.card strong, .card .precio { color: var(--green-dark); font-size: 1.1rem; font-weight: 700; margin-top: 6px; }
.card .row { display:flex; gap: 6px; margin-top: 10px; }
.card .row .btn, .card .row .btn-outline { flex: 1; width: 100%; }

/* Scoped outline button styles inside cards for contrast */
.card .btn-outline { border: 1px solid var(--green); background: transparent; color: var(--green-dark); }
.card .btn-outline:hover { background: var(--green); color: #fff; }

/* Transparent content wrappers inside cards */
.card .card-body, .card .card-content { background: transparent; color: inherit; }

/* Ensure out-of-stock does not reduce text readability */
.card.out-of-stock { opacity: 1 !important; }

/* Forms */
.form-group { margin-bottom: var(--spacing-md); }
.form-label { display:block; margin-bottom: var(--spacing-xs); font-weight:500; }
.form-control { width:100%; padding: var(--spacing-sm) var(--spacing-md); border:1px solid var(--border); border-radius: var(--border-radius); transition: var(--transition); }
.form-control:focus { outline:none; border-color: var(--primary); box-shadow: 0 0 0 2px rgba(46,125,50,0.1); }
.form-check { display:flex; align-items:center; gap:var(--spacing-sm); margin-bottom:var(--spacing-sm); }
.form-check input[type="checkbox"], .form-check input[type="radio"] { width:auto; }

/* Buttons */
.btn { background:var(--green); color:#fff; border:none; padding:10px 16px; border-radius:10px; font-weight:600; transition:.2s; display:inline-flex; align-items:center; justify-content:center; gap:.5rem; text-decoration:none; }
.btn:hover { background:var(--green-dark); transform: translateY(-1px); }
.btn-accent { background: var(--accent); color:#1E1E1E; }
.btn-outline { border:1px solid var(--border); background:#fff; color:var(--text); }
.btn-danger { background:#ff6b6b; color:#fff; border:none; }
.btn-danger:hover { filter: brightness(0.95); }

/* Tables */
.table { width:100%; border-collapse:collapse; margin: var(--spacing-md) 0; }
.table th, .table td { padding: var(--spacing-md); border:1px solid var(--border); text-align:left; }
.table th { background: var(--background-light); font-weight:600; }
.table tr:nth-child(even) { background: var(--background-light); }

/* Detail View */
.detail { display:grid; grid-template-columns: 280px 1fr; gap: var(--spacing-xl); margin: var(--spacing-lg) 0; }
.detail img { width:100%; border-radius: var(--border-radius); box-shadow: var(--shadow); }

/* Filters */
.filters { display:flex; flex-wrap:wrap; gap: var(--spacing-md); margin: var(--spacing-lg) 0; padding: var(--spacing-md); background: var(--background-light); border-radius: var(--border-radius); align-items:center; }
.filters input[type="text"], .filters select { min-width:200px; flex:1; }
.filters .btn-outline { margin-left: auto; }

/* Footer */
.footer {
  background: #2F6C32;
  color: #fff;
  padding: 50px 0;
  border-top: 2px solid #EDDA8E;
}

/* Centrar el contenedor del footer */
.footer-container {
  display: flex;
  justify-content: center; /* centra horizontalmente el grupo de columnas */
  align-items: flex-start;
  gap: 80px;
  max-width: 1200px; /* ancho m치ximo del bloque */
  margin: 0 auto; /* centra el bloque dentro de la p치gina */
  padding: 0 40px; /* espacio lateral interno */
  flex-wrap: wrap;
  text-align: left;
}

.footer-column {
  flex: 1 1 300px;
  min-width: 250px;
}

.footer-column h3 {
  font-size: 1.2rem;
  color: #EDDA8E;
  margin-bottom: 10px;
}

.footer-column ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.footer-column li {
  margin-bottom: 6px;
}

.footer-column a {
  color: #fff;
  text-decoration: none;
  transition: color 0.2s;
}

.footer-column a:hover {
  color: #EDDA8E;
}

/* Direcci칩n y horarios */
.footer-address {
  color: #EDDA8E;
  margin: 6px 0 10px;
  line-height: 1.4;
}

.footer-hours strong {
  color: #fff;
  display: block;
  margin-bottom: 6px;
}
.footer-hours ul {
  margin: 0;
  padding-left: 18px;
}
.footer-hours li {
  color: #fff;
  margin: 2px 0;
}

/* ====== Footer: mapa ancho entre footer y copyright ====== */
.footer-map-full {
  width: 100%;
  height: 280px;               /* altura por defecto desktop */
  border-top: 2px solid #EDDA8E;
  border-bottom: 2px solid #EDDA8E;
  overflow: hidden;
  background: #1f5f26;         /* verde oscuro de fondo por si tarda en cargar */
}
.footer-map-full iframe {
  width: 100%;
  height: 100%;
  border: 0;
  filter: saturate(1.05);
}

.footer-map-meta {
  display: flex;
  gap: 12px;
  align-items: center;
  justify-content: center;
  padding: 10px 14px 18px;
  background: #2F6C32;         /* barra de apoyo bajo el mapa */
  color: #fff;
  flex-wrap: wrap;
}
.footer-map-address {
  color: #EDDA8E;
  font-size: 14px;
}

.footer-map-button {
  display: inline-block;
  background: rgba(255,255,255,0.15);
  color: #fff;
  text-decoration: none;
  font-weight: 600;
  padding: 8px 12px;
  border-radius: 6px;
  transition: background .2s ease, transform .2s ease;
}
.footer-map-button:hover {
  background: rgba(255,255,255,0.28);
  transform: translateY(-1px);
}

/* Oculta cualquier segunda fila legacy que haya quedado suelta */
.footer > h3 + ul,
.footer > h3 { display: none !important; }

/* Responsivo */
@media (max-width: 900px) {
  .footer-container {
    flex-direction: column;
    align-items: flex-start;
  }
  .footer-column {
    width: 100%;
  }
  .footer-map-full { height: 240px; }
}
@media (max-width: 600px) {
  .footer-map-full { height: 200px; }
  .footer-map-meta { padding-bottom: 14px; }
}

@media (max-width: 992px) {
  html { font-size: 15px; }
  .container { padding: 0 var(--spacing-lg); }
  .grid { grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); }
}

@media (max-width: 768px) {
  .row { flex-direction: column; }
  .col { width: 100%; }
  .detail { grid-template-columns: 1fr; }
  .table { display:block; overflow-x:auto; white-space:nowrap; }
  .filters { flex-direction: column; }
  .filters input[type="text"], .filters select { width:100%; }
}

@media (max-width: 576px) {
  html { font-size: 14px; }
  .container { padding: 0 var(--spacing-md); }
  .grid { grid-template-columns: 1fr; }
  .card img { height: 180px; }
  .btn { width: 100%; }
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  :root {
    --background: #121212;
    --background-light: #1e1e1e;
    --text-primary: #ffffff;
    --text-secondary: #b0b0b0;
    --border: #333333;
  }
  .card, .navbar { background: var(--background-light); }
  .form-control { background: var(--background); color: var(--text-primary); }
  img { opacity: 0.9; }
}

/* === Fix contraste tarjetas cat치logo/destacados === */
.grid .card, .featured .card, .card {
  background: #fff !important;
  color: var(--text) !important;           /* #1E1E1E */
  border: 1px solid var(--border);         /* #E5E5E5 */
  border-radius: 12px;
  box-shadow: 0 2px 10px rgba(0,0,0,.06);
  padding: 16px;
  transition: transform .18s ease, box-shadow .18s ease;
}
.grid .card:hover, .featured .card:hover, .card:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 16px rgba(0,0,0,.12);
}
.card img {
  width: 100%;
  height: 200px;
  object-fit: cover;
  border-radius: 8px;
  background: #eee;
}
.card h3, .card .card-title {
  margin: 10px 0 4px;
  font-weight: 600;
  color: var(--text);
}
.card .muted, .card .card-category {
  color: #6f6f6f;
  font-size: .92rem;
  margin-bottom: 8px;
}
.card strong, .card .card-price {
  display: block;
  margin-top: 6px;
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--green-dark);                 /* #2E6B30 */
}
.card .row { display: flex; gap: 8px; margin-top: 10px; }
.card .btn { flex: 1 1 auto; }
.card .btn-outline { flex: 1 1 auto; border-color: var(--green); color: var(--green-dark); }
.card .btn-outline:hover { background: var(--green); color: #fff; }

.badge-stock{
  display:inline-block;
  background:#e8f5e9;
  color:var(--green-dark);
  border:1px solid #d6ead7;
  padding:8px 12px;
  border-radius:10px;
  font-weight:600;
}

/* No results and suggestions */
.no-results {
  text-align: center;
  margin: 48px auto;
  max-width: 820px;
  color: var(--text);
}
.no-results h3 { font-weight: 700; margin-bottom: 0.4em; }
.no-results p { color: #666; margin-bottom: 1.6em; }
.no-results hr { width: 220px; margin: 1.6em auto; border: 0; border-top: 1px solid var(--border); }
.no-results h4 { font-weight: 600; margin-bottom: 1.5em; }
.suggested {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 24px;
  margin-top: 10px;
}
.suggested .card {
  background: #fff;
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 12px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.08);
  transition: transform .2s ease;
}
.suggested .card:hover { transform: translateY(-3px); }
.suggested img {
  width: 100%;
  height: 200px;
  object-fit: cover;
  border-radius: 8px;
  background: #eee;
}

/* Optional: BazarMetro-like empty state styling */
.no-results { color: #333; text-align: center; }
.no-results h2 { font-size: 1.5rem; font-weight: 700; }
.no-results p { color: #555; }
.suggested-grid .product-card {
  background: #fff;
  border-radius: 10px;
  padding: 16px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  transition: transform 0.2s ease;
}
.suggested-grid .product-card:hover { transform: translateY(-4px); }